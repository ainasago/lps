@model TtsWebApp.Models.TtsConversionRecord
@{
    ViewData["Title"] = "TTS 记录详情";
}

<div class="container mx-auto px-4 py-8 max-w-4xl">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold text-slate-900 dark:text-white">TTS 记录详情</h1>
        <a href="@Url.Action("TtsRecords")" class="px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600">
            <span class="material-symbols-outlined text-sm align-middle">arrow_back</span>
            返回列表
        </a>
    </div>

    <div class="bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 space-y-6">
        <!-- 基本信息 -->
        <div>
            <h2 class="text-xl font-bold text-slate-900 dark:text-white mb-4">基本信息</h2>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="text-sm font-semibold text-slate-600 dark:text-slate-400">记录ID</label>
                    <p class="text-slate-900 dark:text-white">@Model.Id</p>
                </div>
                <div>
                    <label class="text-sm font-semibold text-slate-600 dark:text-slate-400">创建时间</label>
                    <p class="text-slate-900 dark:text-white">@Model.CreatedAt.ToString("yyyy-MM-dd HH:mm:ss")</p>
                </div>
                <div>
                    <label class="text-sm font-semibold text-slate-600 dark:text-slate-400">状态</label>
                    <p>
                        @if (Model.IsSuccess)
                        {
                            <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400">
                                成功
                            </span>
                        }
                        else
                        {
                            <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400">
                                失败
                            </span>
                        }
                    </p>
                </div>
                <div>
                    <label class="text-sm font-semibold text-slate-600 dark:text-slate-400">IP地址</label>
                    <p class="text-slate-900 dark:text-white">@Model.IpAddress</p>
                </div>
            </div>
        </div>

        <!-- 转换参数 -->
        <div>
            <h2 class="text-xl font-bold text-slate-900 dark:text-white mb-4">转换参数</h2>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="text-sm font-semibold text-slate-600 dark:text-slate-400">语言</label>
                    <p class="text-slate-900 dark:text-white">@Model.Language</p>
                </div>
                <div>
                    <label class="text-sm font-semibold text-slate-600 dark:text-slate-400">音色</label>
                    <p class="text-slate-900 dark:text-white">@Model.Voice</p>
                </div>
                <div>
                    <label class="text-sm font-semibold text-slate-600 dark:text-slate-400">语速</label>
                    <p class="text-slate-900 dark:text-white">@Model.Speed</p>
                </div>
                <div>
                    <label class="text-sm font-semibold text-slate-600 dark:text-slate-400">音调</label>
                    <p class="text-slate-900 dark:text-white">@Model.Pitch</p>
                </div>
            </div>
        </div>

        <!-- 文本内容 -->
        <div>
            <h2 class="text-xl font-bold text-slate-900 dark:text-white mb-4">文本内容</h2>
            <div class="bg-slate-50 dark:bg-slate-900 rounded-lg p-4">
                <p class="text-slate-900 dark:text-white whitespace-pre-wrap">@Model.Text</p>
            </div>
            <div class="mt-2 text-sm text-slate-600 dark:text-slate-400">
                字符数：@Model.Text.Length
            </div>
        </div>

        <!-- 用户代理 -->
        <div>
            <h2 class="text-xl font-bold text-slate-900 dark:text-white mb-4">用户代理</h2>
            <div class="bg-slate-50 dark:bg-slate-900 rounded-lg p-4">
                <p class="text-sm text-slate-700 dark:text-slate-300 break-all">@Model.UserAgent</p>
            </div>
        </div>

        <!-- 错误信息 -->
        @if (!Model.IsSuccess && !string.IsNullOrEmpty(Model.ErrorMessage))
        {
            <div>
                <h2 class="text-xl font-bold text-red-600 dark:text-red-400 mb-4">错误信息</h2>
                <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
                    <p class="text-red-800 dark:text-red-300">@Model.ErrorMessage</p>
                </div>
            </div>
        }

        <!-- 操作按钮 -->
        <div class="flex gap-4 pt-4 border-t border-slate-200 dark:border-slate-700">
            <form method="post" action="@Url.Action("DeleteTtsRecord", new { id = Model.Id })" 
                  onsubmit="return confirm('确定要删除这条记录吗？')">
                @Html.AntiForgeryToken()
                <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">
                    <span class="material-symbols-outlined text-sm align-middle">delete</span>
                    删除记录
                </button>
            </form>
        </div>
    </div>
</div>
