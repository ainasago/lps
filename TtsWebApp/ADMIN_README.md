# 后台管理系统使用说明

## 功能概述

后台管理系统提供以下功能：
1. **网站配置管理** - 修改网站名称、邮箱等基本信息
2. **文章发布系统** - 创建、编辑、删除文章
3. **管理员身份验证** - 安全的登录系统

## 访问管理后台

### 默认配置
- **管理后台路径**: `/admin` (可在 appsettings.json 中配置)
- **默认管理员账号**: `admin`
- **默认密码**: `admin123`

### 修改管理后台路径

在 `appsettings.json` 中修改 `AdminPath` 配置：

```json
{
  "AppSettings": {
    "AdminPath": "your-custom-path"
  }
}
```

修改后，管理后台访问地址将变为: `http://localhost:5128/your-custom-path`

## 首次使用

1. **启动应用**
   ```bash
   cd TtsWebApp
   dotnet run
   ```

2. **访问管理后台**
   - 打开浏览器访问: `http://localhost:5128/admin`
   - 使用默认账号登录: `admin` / `admin123`

3. **修改默认密码**
   - 首次登录后，建议立即修改默认密码
   - 目前需要直接在数据库中修改（后续版本会添加密码修改功能）

## 网站配置管理

在管理后台的"网站配置"页面，可以修改以下配置：

- **SiteName**: 网站名称（中文）
- **SiteNameEn**: 网站名称（英文）
- **ContactEmail**: 联系邮箱
- **SiteDescription**: 网站描述
- **SiteUrl**: 网站URL

修改后，前台页面会立即生效，无需重启应用。

## 文章管理

### 创建文章
1. 点击"文章管理" -> "创建文章"
2. 填写文章标题、摘要、内容等信息
3. 可选择"立即发布"或保存为草稿
4. 点击"保存文章"

### 编辑文章
1. 在文章列表中点击"编辑"
2. 修改文章内容
3. 可以修改发布状态
4. 点击"保存更改"

### 删除文章
1. 在文章列表中点击"删除"
2. 确认删除操作

## 数据库

应用使用 SQLite 数据库，数据库文件位于：
- `TtsWebApp/tts_admin.db`

### 数据表
- **AdminUsers**: 管理员用户表
- **SiteConfigs**: 网站配置表
- **Articles**: 文章表

## 安全建议

1. **修改默认密码**: 首次部署后立即修改默认管理员密码
2. **修改管理路径**: 将 `AdminPath` 改为不易猜测的路径
3. **使用 HTTPS**: 生产环境务必启用 HTTPS
4. **定期备份**: 定期备份 `tts_admin.db` 数据库文件

## 故障排除

### 无法登录
- 检查用户名和密码是否正确
- 确认数据库文件是否存在
- 查看应用日志

### 配置不生效
- 确认已保存配置
- 刷新浏览器页面
- 检查数据库中的配置值

### 数据库错误
- 确认数据库文件权限
- 尝试删除数据库文件，重新启动应用（会重新初始化）

## 技术栈

- **框架**: ASP.NET Core 9.0
- **数据库**: SQLite + Entity Framework Core
- **身份验证**: Cookie Authentication
- **密码加密**: BCrypt
- **前端**: Tailwind CSS + Material Icons

## 后续开发计划

- [ ] 密码修改功能
- [ ] 多管理员支持
- [ ] 文章分类和标签管理
- [ ] 文章搜索功能
- [ ] 数据统计和分析
- [ ] 文件上传功能
- [ ] Markdown 编辑器集成
