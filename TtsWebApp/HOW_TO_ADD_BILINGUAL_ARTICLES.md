# 📝 如何在后台添加中英文文章 - 详细教程

## 🎯 概述
本教程将手把手教您如何在后台管理系统中创建中英文双语文章。

---

## 📋 准备工作

### 1. 执行数据库迁移（首次使用前必须执行）
```bash
# 停止应用程序
# 然后在项目目录执行：
cd d:\1Dev\dev\webs\tts_turi\TtsWebApp
dotnet ef migrations add AddArticleLanguageFields
dotnet ef database update
```

### 2. 登录后台管理
访问：`http://localhost:5128/admin3`（或您配置的后台路径）

---

## 🚀 方法一：创建中英文文章对（推荐）

### 步骤 1：创建中文文章

1. **进入后台** → 点击"文章管理" → 点击"创建文章"

2. **填写中文文章信息**：
   ```
   标题：如何使用文字转语音功能
   摘要：本文介绍了如何使用我们的 TTS 服务
   内容：（使用富文本编辑器输入中文内容）
   作者：张三
   标签：教程,TTS,使用指南
   
   ⭐ 语言：选择"中文 (zh-CN)"  ← 重要！
   关联文章ID：（暂时留空）
   
   ☑ 立即发布
   ```

3. **点击"保存文章"**

4. **记录文章ID**：
   - 保存成功后，会跳转到文章列表
   - 找到刚创建的文章，记下它的 **ID**（假设是 **1**）

### 步骤 2：创建英文文章

1. **再次点击"创建文章"**

2. **填写英文文章信息**：
   ```
   标题：How to Use Text-to-Speech Feature
   摘要：This article introduces how to use our TTS service
   内容：（使用富文本编辑器输入英文内容）
   作者：John Smith
   标签：Tutorial,TTS,Guide
   
   ⭐ 语言：选择"英文 (en-US)"  ← 重要！
   ⭐ 关联文章ID：输入 1  ← 填入中文文章的ID
   
   ☑ 立即发布
   ```

3. **点击"保存文章"**

4. **记录文章ID**：
   - 假设英文文章的 ID 是 **2**

### 步骤 3：关联中文文章

1. **返回文章列表** → 找到中文文章（ID: 1）→ 点击"编辑"

2. **更新关联信息**：
   ```
   关联文章ID：输入 2  ← 填入英文文章的ID
   ```

3. **点击"保存更改"**

### ✅ 完成！

现在两篇文章已经互相关联了：
- 中文文章（ID: 1）关联到英文文章（ID: 2）
- 英文文章（ID: 2）关联到中文文章（ID: 1）

---

## 🎨 方法二：快速创建（适合熟练用户）

### 一次性创建中文文章
```
标题：TTS 最佳实践
语言：中文 (zh-CN)
关联文章ID：（留空，稍后填写）
```
保存后得到 ID: 3

### 一次性创建英文文章
```
标题：TTS Best Practices
语言：英文 (en-US)
关联文章ID：3
```
保存后得到 ID: 4

### 回去编辑中文文章
```
编辑 ID: 3 的文章
关联文章ID：4
保存
```

---

## 🔍 验证效果

### 1. 查看中文文章列表
访问：`http://localhost:5128/Article/Index?lang=zh-CN`
- 应该只显示中文文章

### 2. 查看英文文章列表
访问：`http://localhost:5128/Article/Index?lang=en-US`
- 应该只显示英文文章

### 3. 查看文章详情
访问：`http://localhost:5128/Article/Detail/1`（中文文章）
- 页面右上角应该显示 **"View English Version"** 按钮
- 点击按钮会跳转到英文文章

访问：`http://localhost:5128/Article/Detail/2`（英文文章）
- 页面右上角应该显示 **"查看中文版"** 按钮
- 点击按钮会跳转回中文文章

---

## 📊 后台界面说明

### 创建文章页面
```
┌─────────────────────────────────────────┐
│ 创建文章                                 │
├─────────────────────────────────────────┤
│ 标题 *        [________________]         │
│ 摘要          [________________]         │
│ 内容 *        [富文本编辑器___]          │
│                                          │
│ 作者          [________]  标签 [_______] │
│                                          │
│ 🆕 语言 *     [中文 (zh-CN) ▼]          │
│ 🆕 关联文章ID [________]                 │
│    提示：用于关联中英文版本（可选）      │
│                                          │
│ ☑ 立即发布                               │
│                                          │
│ [取消]  [💾 保存文章]                    │
└─────────────────────────────────────────┘
```

### 编辑文章页面
```
┌─────────────────────────────────────────┐
│ 编辑文章                                 │
├─────────────────────────────────────────┤
│ 标题 *        [如何使用TTS___]           │
│ 摘要          [本文介绍___]              │
│ 内容 *        [富文本编辑器___]          │
│                                          │
│ 作者          [张三___]  标签 [教程,TTS] │
│                                          │
│ 语言 *        [中文 (zh-CN) ▼]          │
│               提示：当前文章语言          │
│                                          │
│ 关联文章ID    [2_______]                 │
│               ✓ 已关联到文章 ID: 2       │
│                                          │
│ ☑ 已发布                                 │
│                                          │
│ 创建时间: 2025-01-08 10:00:00           │
│ 更新时间: 2025-01-08 10:05:00           │
│ 浏览量: 15                               │
│                                          │
│ [取消]  [💾 保存更改]                    │
└─────────────────────────────────────────┘
```

---

## 💡 常见问题

### Q1: 我创建文章时忘记选择语言了怎么办？
**A:** 没关系，默认会保存为中文（zh-CN）。如果需要改为英文，可以编辑文章，修改语言字段。

### Q2: 关联文章ID 填错了怎么办？
**A:** 编辑文章，修改关联文章ID 为正确的值即可。

### Q3: 我可以不关联文章吗？
**A:** 可以！关联文章ID 是可选的。如果不填，文章详情页就不会显示语言切换按钮。

### Q4: 一篇文章可以关联多个其他语言版本吗？
**A:** 目前只支持关联一个其他语言版本（中文↔英文）。

### Q5: 如何批量设置现有文章的语言？
**A:** 可以通过数据库直接更新：
```sql
-- 将所有现有文章设置为中文
UPDATE Articles 
SET Language = 'zh-CN' 
WHERE Language IS NULL OR Language = '';
```

### Q6: 文章列表页如何切换语言？
**A:** 
- 中文列表：`/Article/Index?lang=zh-CN`
- 英文列表：`/Article/Index?lang=en-US`

---

## 🎯 最佳实践

### 1. 命名规范
- **中文文章**：使用中文标题
- **英文文章**：使用英文标题
- **标签**：可以使用中英文混合，用逗号分隔

### 2. 内容对应
- 确保中英文文章内容相对应
- 保持相同的文章结构
- 图片和链接保持一致

### 3. 发布策略
- 可以先发布中文版，英文版稍后发布
- 两个版本可以有不同的发布状态
- 未发布的版本不会显示语言切换按钮

### 4. SEO 优化
- 中英文文章使用不同的标题和摘要
- 标签可以根据语言调整
- 确保内容质量，避免机器翻译

---

## 📝 完整示例

### 示例：创建"TTS 使用教程"中英文文章

#### 中文版（ID: 5）
```
标题：TTS 文字转语音完整使用教程
摘要：从零开始学习如何使用我们的 AI 文字转语音服务
内容：
  1. 什么是 TTS
  2. 如何选择语言和配音员
  3. 调整音调和语速
  4. 下载生成的音频
  ...
作者：李明
标签：TTS,教程,入门指南
语言：中文 (zh-CN)
关联文章ID：6
☑ 立即发布
```

#### 英文版（ID: 6）
```
标题：Complete TTS Text-to-Speech Tutorial
摘要：Learn how to use our AI text-to-speech service from scratch
内容：
  1. What is TTS
  2. How to choose language and voice
  3. Adjust pitch and speed
  4. Download generated audio
  ...
作者：Mike Johnson
标签：TTS,Tutorial,Getting Started
语言：英文 (en-US)
关联文章ID：5
☑ 立即发布
```

---

## ✅ 检查清单

创建完成后，请检查：

- [ ] 中文文章的语言设置为 zh-CN
- [ ] 英文文章的语言设置为 en-US
- [ ] 中文文章的关联ID 指向英文文章
- [ ] 英文文章的关联ID 指向中文文章
- [ ] 两篇文章都已发布
- [ ] 访问中文文章能看到"View English Version"按钮
- [ ] 访问英文文章能看到"查看中文版"按钮
- [ ] 点击切换按钮能正确跳转

---

## 🎉 恭喜！

您已经学会如何在后台添加中英文文章了！

如有任何问题，请参考：
- `ARTICLE_BILINGUAL_IMPLEMENTATION.md` - 技术实现文档
- `MIGRATION_GUIDE.md` - 数据库迁移指南
